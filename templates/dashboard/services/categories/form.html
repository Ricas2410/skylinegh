{% extends 'dashboard/base.html' %}
{% block title %}{{ form.instance.pk|yesno:'Edit Category,New Category' }}{% endblock %}
{% block page_title %}{{ form.instance.pk|yesno:'Edit Category,New Category' }}{% endblock %}

{% block content %}
<form method="post" enctype="multipart/form-data" class="bg-white rounded-2xl p-6 border border-slate-200 max-w-3xl">
  {% csrf_token %}
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    {% for field in form %}
      <div class="{% if field.field.widget.input_type == 'file' or field.name in 'description meta_description meta_keywords' %}md:col-span-2{% endif %}">
        <label class="block text-sm font-medium text-slate-700 mb-1">{{ field.label }}</label>
        {{ field }}
        {% if field.help_text %}
          <p class="mt-1 text-xs text-slate-500">{{ field.help_text }}</p>
        {% endif %}
        {% for error in field.errors %}
          <p class="text-xs text-rose-600 mt-1">{{ error }}</p>
        {% endfor %}
      </div>
    {% endfor %}
  </div>
  <div class="mt-6 flex items-center space-x-3">
    <button class="btn-primary" type="submit">Save Category</button>
    <a href="{% url 'dashboard:service_category_list' %}" class="btn-secondary">Cancel</a>
  </div>
</form>
{% endblock %}

{% block extra_js %}
<script>
  (function() {
    const inputs = document.querySelectorAll('input[type="text"], input[type="email"], input[type="url"], input[type="number"], textarea');
    inputs.forEach(el => el.classList.add('w-full','px-4','py-2.5','border','border-slate-300','rounded-lg','focus:outline-none','focus:ring-2','focus:ring-indigo-500','focus:border-indigo-500'));
    const selects = document.querySelectorAll('select');
    selects.forEach(el => el.classList.add('w-full','px-4','py-2.5','border','border-slate-300','rounded-lg','focus:outline-none','focus:ring-2','focus:ring-indigo-500','focus:border-indigo-500'));
  })();
</script>
{% endblock %}
